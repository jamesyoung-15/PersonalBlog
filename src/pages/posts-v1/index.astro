---
import BaseLayout from "../../layouts/BaseLayout.astro";
const pageTitle = "Blog Posts";
import ListPosts from "../../layouts/ListPosts.astro";
import { type CollectionEntry, getCollection } from "astro:content";
import { Debug } from "astro:components";
import type { GetStaticPaths } from "astro";
import FilterPosts from "../../layouts/FilterPosts.astro";
import PageButtons from "../../components/PageButtons.astro";
import SearchPost from "../../layouts/SearchPost.astro";

export const getStaticPaths = (async ({ paginate }) => {
  const posts = await getCollection("posts", ({ data }) => !data.draft);
  return paginate(posts, { pageSize: 4 });
}) satisfies GetStaticPaths;

const page = Astro.props.page;

const tags =  Array.from(
  new Set(page.data.flatMap((post) => post.data.tags))
);

---
<!-- <Debug value={page} /> -->
<BaseLayout pageTitle={pageTitle}>
    <SearchPost data={page.data}></SearchPost>
    <!-- <ListPosts page={page} /> -->
    <!-- <PageButtons page={page} /> -->
</BaseLayout>

